define(["jquery"],function(t){"use strict";var e=function(i){this.options=t.extend({},e.Default,i),this.focusTimeout=null,this.focusInterval=null,this.mousemoveTimeout=null,this.active=!0,this._events={active:"active.un.reload"},this.init()};return e.Default={timeOut:24e4,activeTime:12e4},e.prototype={init:function(){t(window).off("mousemove.un.reload").off("touchstart.un.reload").off("blur.un.reload").off("focus.un.reload"),t(window).on("mousemove.un.reload",t.proxy(this.mousemove,this)).on("touchstart.un.reload",t.proxy(this.mousemove,this)).on("blur.un.reload",t.proxy(this.сlearFocus,this)).on("focus.un.reload",t.proxy(this.init,this)),this.mousemove(),this.сlearFocus(),this.focusInterval=window.setInterval(t.proxy(this.reload,this),this.options.timeOut)},mousemove:function(){this.isActive()?(window.clearTimeout(this.mousemoveTimeout),this.mousemoveTimeout=window.setTimeout(t.proxy(this.setActive,this),this.options.activeTime)):this.reload()},setActive:function(t){this.active=!0===t,this.isActive()||this.allClear()},isActive:function(){return this.active},"сlearFocus":function(){this.clearFocusTimeout(),this.clearFocusInterval()},allClear:function(){this.clearFocusTimeout(),this.clearFocusInterval(),window.clearTimeout(this.mousemoveTimeout)},clearFocusTimeout:function(){window.clearTimeout(this.focusTimeout)},clearFocusInterval:function(){window.clearInterval(this.focusInterval)},reload:function(){t(document).trigger(t.Event(this._events.active)),this.setActive(!0),this.init()}},e});