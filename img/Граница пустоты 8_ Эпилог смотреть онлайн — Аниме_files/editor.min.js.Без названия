define([],function(){"use strict";var e=function(){};return e.prototype={pasteHtmlAtCaret:function(e){var t,n;if(window.getSelection&&(t=window.getSelection()).getRangeAt&&t.rangeCount){(n=t.getRangeAt(0)).deleteContents();var r,o,l=document.createElement("div"),a=document.createDocumentFragment();for(l.innerHTML=e;r=l.firstChild;)o=a.appendChild(r);n.insertNode(a),o&&((n=n.cloneRange()).setStartAfter(o),n.collapse(!0),t.removeAllRanges(),t.addRange(n))}},getSelection:function(e){var t=e.jquery?e[0]:e;return("selectionStart"in t&&function(){var e=t.selectionEnd-t.selectionStart;return{start:t.selectionStart,end:t.selectionEnd,length:e,text:t.value.substr(t.selectionStart,e)}}||document.selection&&function(){t.focus();var e=document.selection.createRange();if(null===e)return{start:0,end:t.value.length,length:0};var n=t.createTextRange(),r=n.duplicate();return n.moveToBookmark(e.getBookmark()),r.setEndPoint("EndToStart",n),{start:r.text.length,end:r.text.length+e.text.length,length:e.text.length,text:e.text}}||function(){return null})()},replaceSelection:function(e,t){var n,r=e.jquery?e.get(0):e;return r.focus(),t=t||"",("selectionStart"in r&&function(){return n=r.selectionStart+t.length,r.value=r.value.substr(0,r.selectionStart)+t+r.value.substr(r.selectionEnd,r.value.length),r.selectionStart=n,r.selectionEnd=n,this}||document.selection&&function(){return r.focus(),document.selection.createRange().text=t,this}||function(){return r.value+=t,r})()}},new e});