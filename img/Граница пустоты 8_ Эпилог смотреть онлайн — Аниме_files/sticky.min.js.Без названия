define([],function(){"use strict";var t=function(t){this.$element=document.querySelectorAll(t),this.timeoutAffix=[],this.timeoutClass=[],this.init()};return t.prototype={init:function(){Array.prototype.forEach.call(this.$element,function(t){t.timeoutAffix=null,t.timeoutClass=null,t.active=!1,t.currentScroll=0,t.height=this.outerHeight(t,!0),t.top=t.height,t.getAttribute("data-sticky-top")>0&&(t.top=t.getAttribute("data-sticky-top")),window.addEventListener("load",function(){this.setPosition(t)}.bind(this)),window.addEventListener("scroll",function(){t.currentScroll>window.pageYOffset&&!t.classList.contains("up")?(t.classList.remove("down"),t.classList.add("up")):t.currentScroll<window.pageYOffset&&!t.classList.contains("down")&&(t.classList.remove("up"),t.classList.add("down")),t.currentScroll=window.pageYOffset,this.setPosition(t)}.bind(this)),window.addEventListener("resize",function(){t.height=this.outerHeight(t,!0),t.top=t.height,this.setPosition(t)}.bind(this))}.bind(this))},outerHeight:function(t,e){var i=t.offsetHeight;if(!0===e&&i>0){var s=getComputedStyle(t);i+=parseInt(s.marginTop)+parseInt(s.marginBottom)}return i},setPosition:function(t){window.pageYOffset>t.top?t.active||(t.active=!0,t.height=this.outerHeight(t,!0),"scrollBar"===t.getAttribute("data-sticky")&&(t.style.top=t.offsetHeight-2*t.offsetHeight+"px"),clearTimeout(t.timeoutAffix),t.timeoutAffix=setTimeout(function(){t.classList.add("affix"),t.parentNode.style.height=t.height+"px"},10),t.getAttribute("data-sticky-class")&&(clearTimeout(t.timeoutClass),t.timeoutClass=setTimeout(function(){t.classList.add(t.getAttribute("data-sticky-class"))},10))):t.active&&window.pageYOffset<=t.top-t.height&&(t.active=!1,clearTimeout(t.timeoutAffix),t.parentNode.style.height="","scrollBar"===t.getAttribute("data-sticky")&&(t.style.top=""),t.classList.remove("affix"),t.getAttribute("data-sticky-class")&&(clearTimeout(t.timeoutClass),t.classList.remove(t.getAttribute("data-sticky-class"))))}},t});